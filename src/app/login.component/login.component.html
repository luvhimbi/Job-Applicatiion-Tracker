<div class="auth-split-container">
  <div class="auth-content">
    <div class="mb-5">
      <a routerLink="/" class="text-decoration-none text-dark fw-bold fs-4">JobTracker.</a>
    </div>

    <div style="max-width: 400px;">
      <h1 class="fw-bold mb-2">Sign in</h1>
      <p class="text-muted mb-5">Please enter your details to access your account.</p>
      <div *ngIf="errorMessage" class="mt-4 p-3 border-start border-danger border-4 bg-danger-subtle text-danger small">
        <i class="bi bi-exclamation-circle-fill me-2"></i> {{ errorMessage }}
      </div>
      <form #loginForm="ngForm" (ngSubmit)="loginForm.valid && login()" novalidate>
        <div class="form-floating mb-4">
          <input type="email" class="form-control form-control-minimal w-100" id="email"
                 placeholder="name@example.com" [(ngModel)]="email" name="email" required email #emailField="ngModel">
          <label for="email" class="ps-0 text-muted">Email Address</label>
          <div class="text-danger small mt-2" *ngIf="emailField.invalid && emailField.touched">Please enter a valid email</div>
        </div>

        <div class="form-floating mb-3">
          <input type="password" class="form-control form-control-minimal w-100" id="password"
                 placeholder="Password" [(ngModel)]="password" name="password" required minlength="6" #passField="ngModel">
          <label for="password" class="ps-0 text-muted">Password</label>
          <div class="text-danger small mt-2" *ngIf="passField.invalid && passField.touched">Password is too short</div>
        </div>

        <div class="d-flex justify-content-between align-items-center mb-4">
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="remember">
            <label class="form-check-label small" for="remember">Keep me signed in</label>
          </div>
          <a href="#" class="small text-dark fw-bold text-decoration-none">Forgot?</a>
        </div>

        <button type="submit" [disabled]="loginForm.invalid || isLoading" class="btn-auth-submit w-100 d-flex align-items-center justify-content-center">
          <span *ngIf="isLoading" class="spinner-border spinner-border-sm me-2" role="status"></span>
          {{ isLoading ? 'Loading account...' : 'Sign In' }}
        </button>
      </form>

      <p class="mt-4 text-muted small text-center">
        Donâ€™t have an account? <a routerLink="/register" class="text-dark fw-bold text-decoration-none">Create one for free</a>
      </p>
    </div>
  </div>

  <div class="auth-sidebar">
    <h2 class="display-5 fw-bold mb-4 text-white">Master your <br>career journey.</h2>
    <p class="fs-5 text-muted-white" style="opacity: 0.7;">Join 10,000+ professionals tracking applications, organizing interviews, and landing their dream roles.</p>

    <div class="mt-5 pt-5 border-top border-secondary">
      <div class="d-flex gap-3 mb-4">
        <i class="bi bi-check-circle-fill text-success"></i>
        <span>Centralized application tracking</span>
      </div>
      <div class="d-flex gap-3">
        <i class="bi bi-check-circle-fill text-success"></i>
        <span>Interview reminders and follow-ups</span>
      </div>
    </div>
  </div>
</div>
